<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at May 7, 2011 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Maven License Verifiery plugin - Introduction</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Karl Heinz Marbaise" />
    <meta name="Date-Revision-yyyymmdd" content="20110507" />
    <meta http-equiv="Content-Language" content="en" />
        
  </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Maven License Verifier Plugin
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2011-05-07</span>
                  &nbsp;| <span id="projectVersion">Version: 0.4</span>
                      </div>
            <div class="xright">        
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="plugin-info.html" title="Goals">Goals</a>
            </li>
                  <li class="none">
                          <a href="usage.html" title="Usage">Usage</a>
            </li>
                  <li class="none">
                          <a href="licenses.html" title="Licenses">Licenses</a>
            </li>
                  <li class="none">
                          <a href="configuration.html" title="Configuration">Configuration</a>
            </li>
                  <li class="none">
            <strong>Examples</strong>
          </li>
                  <li class="none">
                          <a href="licenses.xml" title="Example File">Example File</a>
            </li>
                  <li class="none">
                          <a href="licenses-modello.html" title="Modell">Modell</a>
            </li>
                  <li class="none">
                          <a href="roadmap.html" title="Roadmap">Roadmap</a>
            </li>
                  <li class="none">
                          <a href="faq.html" title="FAQ">FAQ</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                                                                        <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!--  --><!-- The Maven License Verifier Plugin --><!--  --><!-- Copyright (c) 2009, 2010, 2011 by SoftwareEntwicklung Beratung Schulung (SoEBeS) --><!-- Copyright (c) 2009, 2010, 2011 by Karl Heinz Marbaise --><!--  --><!-- Licensed to the Apache Software Foundation (ASF) under one or more --><!-- contributor license agreements.  See the NOTICE file distributed with --><!-- this work for additional information regarding copyright ownership. --><!-- The ASF licenses this file to You under the Apache License, Version 2.0 --><!-- (the "License"); you may not use this file except in compliance with --><!-- the License.  You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, software --><!-- distributed under the License is distributed on an "AS IS" BASIS, --><!-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. --><!-- See the License for the specific language governing permissions and --><!-- limitations under the License. --><!--  --><!-- NOTE: For help with the syntax of this file, see: --><!-- http://maven.apache.org/doxia/references/apt-format.html --><div class="section"><h2>Examples<a name="Examples"></a></h2><div class="section"><h3>Usage Example<a name="Usage_Example"></a></h3><p>If we take a real project and add the configuration for the Maven License Verifier Plugin into its pom like the following:</p><div class="source"><pre>  &lt;plugin&gt;
    &lt;groupId&gt;com.soebes.maven.plugins.mlv&lt;/groupId&gt;
    &lt;artifactId&gt;maven-license-verifier-plugin&lt;/artifactId&gt;
    &lt;version&gt;0.4&lt;/version&gt;
    &lt;executions&gt;
      &lt;execution&gt;
        &lt;id&gt;license-verifier&lt;/id&gt;
        &lt;goals&gt;
          &lt;goal&gt;verify&lt;/goal&gt;
        &lt;/goals&gt;
      &lt;/execution&gt;
    &lt;/exectuions&gt;
  &lt;/plugin&gt;</pre></div><p>And of course create a <tt>licenses.xml</tt> file based on the <a href="./licenses-modell.html">modell</a> with the following contents. </p><div class="source"><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;licenses&gt;
  &lt;valid&gt;
    &lt;license&gt;
      &lt;id&gt;Apache Software License 2.0&lt;/id&gt;
      &lt;description&gt;Apache Software License 2.0&lt;/description&gt;
      &lt;names&gt;
        &lt;name&gt;Apache 2&lt;/name&gt;
        &lt;name&gt;Apache Software License 2.0&lt;/name&gt;
        &lt;name&gt;Apache Software License, Version 2.0&lt;/name&gt;
        &lt;name&gt;The Apache Software License, Version 2.0&lt;/name&gt;
      &lt;/names&gt;
      &lt;urls&gt;
        &lt;url&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/url&gt;
        &lt;url&gt;http://www.apache.org/licenses/LICENSE-2.0.html&lt;/url&gt;
        &lt;url&gt;http://www.apache.org/licenses/LICENSE-2.0.txt&lt;/url&gt;
        &lt;url&gt;http://apache.org/licenses/LICENSE-2.0&lt;/url&gt;
        &lt;url&gt;http://apache.org/licenses/LICENSE-2.0.html&lt;/url&gt;
        &lt;url&gt;http://apache.org/licenses/LICENSE-2.0.txt&lt;/url&gt;
        &lt;url&gt;LICENSE.txt&lt;/url&gt;
      &lt;/urls&gt;
    &lt;/license&gt;
    &lt;license&gt;
      &lt;id&gt;Common Public License Version 1.0&lt;/id&gt;
      &lt;description&gt;Common Public License Version 1.0&lt;/description&gt;
      &lt;names&gt;
        &lt;name&gt;Common Public License Version 1.0&lt;/name&gt;
      &lt;/names&gt;
      &lt;urls&gt;
        &lt;url&gt;http://www.opensource.org/licenses/cpl1.0.txt&lt;/url&gt;
      &lt;/urls&gt;
    &lt;/license&gt;
  &lt;/valid&gt;

  &lt;invalid&gt;
    &lt;license&gt;
      &lt;id&gt;GNU General Public License (GPL)&lt;/id&gt;
      &lt;description&gt;GNU General Public License (GPL)&lt;/description&gt;
      &lt;names&gt;
        &lt;name&gt;GNU General Public License, version 2&lt;/name&gt;
        &lt;name&gt;GNU General Public License, version 3&lt;/name&gt;
      &lt;/names&gt;
      &lt;urls&gt;
        &lt;url&gt;http://www.gnu.org/licenses/gpl-2.0.html&lt;/url&gt;
        &lt;url&gt;http://www.gnu.org/licenses/gpl-3.0.txt&lt;/url&gt;
      &lt;/urls&gt;
    &lt;/license&gt;
  &lt;/invalid&gt;

  &lt;warning&gt;
    &lt;license&gt;
      &lt;id&gt;Apache Software License 1.1 (Historic)&lt;/id&gt;
      &lt;description&gt;Apache Software License 1.1 (Historic)&lt;/description&gt;
      &lt;names&gt;
        &lt;name&gt;Apache License, Version 1.1&lt;/name&gt;
      &lt;/names&gt;
      &lt;urls&gt;
        &lt;url&gt;http://www.apache.org/licenses/LICENSE-1.1&lt;/url&gt;
      &lt;/urls&gt;
    &lt;/license&gt;
  &lt;/warning&gt;
&lt;/licenses&gt;</pre></div><p>This will produce an output like the following the during a <tt>mvn clean package</tt> call (The output contains only an excerpt of the original output).</p><div class="source"><pre>[INFO]
[INFO] --- maven-license-verifier-plugin:0.4:verify (license-verifier) @ sapm ---
[INFO] Loading /home/kama/ws-git/sapm/src/licenses/licenses.xml licenses file.
[WARNING] ]UNKNOWN[ (compile) The artifact antlr:antlr:jar:2.7.7 has a license which is categorized as unknown
[WARNING] ]UNKNOWN[ (compile) The artifact org.antlr:antlr-runtime:jar:3.3 has a license which is categorized as unknown
[WARNING] ]UNKNOWN[ (compile) The artifact org.antlr:stringtemplate:jar:3.2.1 has a license which is categorized as unknown
[WARNING] ]UNKNOWN[ (test) The artifact org.beanshell:bsh:jar:2.0b4 has a license which is categorized as unknown
[INFO]
[INFO] --- maven-jar-plugin:2.3.1:jar (default-jar) @ sapm ---
[INFO] Building jar: /home/kama/ws-git/sapm/target/sapm-0.5-SNAPSHOT.jar
[INFO]
[INFO] --- maven-site-plugin:3.0-beta-3:attach-descriptor (attach-descriptor) @ sapm ---
[INFO] Parent project loaded from repository.
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 14.103s
[INFO] Finished at: Sat Apr 30 16:49:48 CEST 2011
[INFO] Final Memory: 21M/212M
[INFO] ------------------------------------------------------------------------</pre></div><p>Taking a closer look to the artifacts like the <i>antlr:antlr:jar:2.7.7</i> you will find out that this artifact has a <b>BSD License</b> which is currently not in the <tt>licenses.xml</tt> file. This means in other words if we will accept the <b>BSD license</b> we have to add that license to the <tt>licenses.xml</tt> file in an appropriate category. The following will show you an appropriate excerpt of the <tt>licenses.xml</tt> file. In this case we put the license into <i>Valid</i> category.</p><div class="source"><pre>  &lt;valid&gt;
    [...]
    &lt;license&gt;
      &lt;id&gt;BSD License&lt;/id&gt;
      &lt;description&gt;BSD License&lt;/description&gt;
      &lt;names&gt;
        &lt;name&gt;BSD License&lt;/name&gt;
      &lt;/names&gt;
      &lt;urls&gt;
        &lt;url&gt;http://www.antlr.org/license.html&lt;/url&gt;
      &lt;/urls&gt;
    &lt;/license&gt;
    [...]
  &lt;/valid&gt;</pre></div><p>The result of the above change is the following output:</p><div class="source"><pre>[INFO]
[INFO] --- maven-license-verifier-plugin:0.4:verify (license-verifier) @ sapm ---
[INFO] Loading /home/kama/ws-git/sapm/src/licenses/licenses.xml licenses file.
[WARNING] ]UNKNOWN[ (compile) The artifact org.antlr:antlr-runtime:jar:3.3 has a license which is categorized as unknown
[WARNING] ]UNKNOWN[ (compile) The artifact org.antlr:stringtemplate:jar:3.2.1 has a license which is categorized as unknown
[WARNING] ]UNKNOWN[ (test) The artifact org.beanshell:bsh:jar:2.0b4 has a license which is categorized as unknown
[INFO]
[INFO] --- maven-jar-plugin:2.3.1:jar (default-jar) @ sapm ---
[INFO] Building jar: /home/kama/ws-git/sapm/target/sapm-0.5-SNAPSHOT.jar
[INFO]
[INFO] --- maven-site-plugin:3.0-beta-3:attach-descriptor (attach-descriptor) @ sapm ---
[INFO] Parent project loaded from repository.
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 13.933s
[INFO] Finished at: Sat Apr 30 17:08:20 CEST 2011
[INFO] Final Memory: 21M/257M
[INFO] ------------------------------------------------------------------------</pre></div><p>This will just remove only a single warning in this case for the <i>antlr:antlr:jar:2.7.7</i> artifact. To get rid of the warnings for the other artifacts we have to added appropriate entries in to the <tt>licenses.xml</tt> files as well.</p><p>If you take a look at the <i>org.antlr:antlr-runtime:jar:3.3</i> artifact you will find out that this artifact itself does not have a license entry nor its parent has one. This means this artifact does not contain a licens eat all. In this case you have to exclude this artifact from being checked which simply means to enhance the configuration section of the plugin like the following:</p><div class="source"><pre>  &lt;plugin&gt;
    &lt;groupId&gt;com.soebes.maven.plugins.mlv&lt;/groupId&gt;
    &lt;artifactId&gt;maven-license-verifier-plugin&lt;/artifactId&gt;
    &lt;version&gt;0.4&lt;/version&gt;
    &lt;executions&gt;
      &lt;execution&gt;
        &lt;id&gt;license-verifier&lt;/id&gt;
        &lt;goals&gt;
          &lt;goal&gt;verify&lt;/goal&gt;
        &lt;/goals&gt;
        &lt;configuration&gt;
          &lt;excludes&gt;
            &lt;exclude&gt;org.antlr:antlr-runtime:jar:3.3&lt;/exclude&gt;
          &lt;/excludes&gt;
        &lt;/configuration&gt;
      &lt;/execution&gt;
    &lt;/exectuions&gt;
  &lt;/plugin&gt;</pre></div><p>After changing the configuration the output of a <tt>mvn clean package</tt> looks like this:</p><div class="source"><pre>[INFO]
[INFO] --- maven-license-verifier-plugin:0.4:verify (license-verifier) @ sapm ---
[INFO] Loading /home/kama/ws-git/sapm/src/licenses/licenses.xml licenses file.
[WARNING] ]UNKNOWN[ (compile) The artifact org.antlr:stringtemplate:jar:3.2.1 has a license which is categorized as unknown
[WARNING] ]UNKNOWN[ (test) The artifact org.beanshell:bsh:jar:2.0b4 has a license which is categorized as unknown
[INFO]</pre></div><p>So we have to continue and check the artifact <i>org.antlr:stringtemplate:jar:3.2.1</i>. This artifact has a <i>BSD License</i> as well, but why hasn't it been categorized as being <i>valid</i>? The simple answer is: It has a different URL <tt>http://antlr.org/license.html</tt> instead of <tt>http://www.antlr.org/license.html</tt>. So we have to add the other URL into the <tt>licenses.xml</tt>.</p><div class="source"><pre>  &lt;valid&gt;
    [...]
    &lt;license&gt;
      &lt;id&gt;BSD License&lt;/id&gt;
      &lt;description&gt;BSD License&lt;/description&gt;
      &lt;names&gt;
        &lt;name&gt;BSD License&lt;/name&gt;
      &lt;/names&gt;
      &lt;urls&gt;
        &lt;url&gt;http://www.antlr.org/license.html&lt;/url&gt;
        &lt;url&gt;http://antlr.org/license.html&lt;/url&gt;
      &lt;/urls&gt;
    &lt;/license&gt;
    [...]
  &lt;/valid&gt;</pre></div><p>After this change the output looks now like the following:</p><div class="source"><pre>[INFO]
[INFO] --- maven-license-verifier-plugin:0.3-SNAPSHOT:verify (license-verifier) @ sapm ---
[INFO] Loading /home/kama/ws-git/sapm/src/licenses/licenses.xml licenses file.
[WARNING] ]UNKNOWN[ (test) The artifact org.beanshell:bsh:jar:2.0b4 has a license which is categorized as unknown
[INFO]</pre></div><p>The final artifact itself does not contain the license only it's parent contains the license which it this case is (excerpt from the parents pom.xml).</p><div class="source"><pre> &lt;licenses&gt;
    &lt;license&gt;
      &lt;name&gt;GNU LESSER GENERAL PUBLIC LICENSE&lt;/name&gt;
      &lt;url&gt;http://www.gnu.org/licenses/lgpl.txt&lt;/url&gt;
    &lt;/license&gt;
  &lt;/licenses&gt;</pre></div><p>Now finally we have to add this license to our <tt>licenses.xml</tt> file.</p><div class="source"><pre>  &lt;valid&gt;
    [...]
    &lt;license&gt;
      &lt;id&gt;GNU LESSER GENERAL PUBLIC LICENSE&lt;/id&gt;
      &lt;description&gt;GNU LESSER GENERAL PUBLIC LICENSE&lt;/description&gt;
      &lt;names&gt;
       &lt;name&gt;GNU LESSER GENERAL PUBLIC LICENSE&lt;/name&gt;
      &lt;/names&gt;
      &lt;urls&gt;
        &lt;url&gt;http://www.gnu.org/licenses/lglp.txt&lt;/url&gt;
      &lt;/urls&gt;
    &lt;/license&gt;
    [...]
 &lt;/valid&gt;</pre></div><p>And now finally the output of the <tt>mvn clean package</tt> looks like this:</p><div class="source"><pre>[INFO]
[INFO] --- maven-license-verifier-plugin:0.3-SNAPSHOT:verify (license-verifier) @ sapm ---
[INFO] Loading /home/kama/ws-git/sapm/src/licenses/licenses.xml licenses file.
[INFO]</pre></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">Copyright &#169;                    2009-2011
                        <a href="http://www.soebes.com">SoftwareEntwicklung Beratung Schulung</a>.
            All Rights Reserved.      
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
